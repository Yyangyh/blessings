(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/subhome/details"],{"0fc5":function(t,e,i){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(i("7081"));n(i("4d2f"));function n(t){return t&&t.__esModule?t:{default:t}}var r=function(){return i.e("pages/common/load").then(i.bind(null,"7026"))},a={components:{load:r},data:function(){return{title:"产品详情",goods:"",isLoad:!1,is_freight_free:"",freight_price:"",show:0,coupon:"",num:1,choose_list:[],price:"",inventory:"",type:"",id:"",index_list:0,spec:[],comment_data:"",collects:"",load_show:!0,shows:!1}},methods:{receive:function(e){this.service.entire(this,"post",this.APIconfig.api_root.subhome.s_receive,{coupon_id:this.coupon[e].id,user_id:this.$store.state.user.id},function(i,s){t("log",s," at pages\\subhome\\details.vue:234"),0==s.code?i.coupon[e].is_operable=0:o.showToast({icon:"none",title:s.msg})})},change_num:function(t){"reduce"==t?1==this.num?this.num=1:this.num--:this.num++},choose:function(e,i){var o=this.choose_list;if(e==this.index_list){this.index_list==o.length-1?this.index_list=e:this.index_list=e+1;var s=!0,n=!1,r=void 0;try{for(var a,l=o[e].value[Symbol.iterator]();!(s=(a=l.next()).done);s=!0){var u=a.value;u.show=!1}}catch(A){n=!0,r=A}finally{try{s||null==l.return||l.return()}finally{if(n)throw r}}if(o[e].value[i].show=!0,this.choose_list=JSON.parse(JSON.stringify(o)),this.spec[e]={type:o[e].name,value:o[e].value[i].name},t("log",this.spec," at pages\\subhome\\details.vue:270"),e==o.length-1)return void this.service.entire(this,"post",this.APIconfig.api_root.subhome.s_SpecDetail,{id:this.id,spec:this.spec},function(e,i){t("log",i," at pages\\subhome\\details.vue:276"),e.price=i.data.price,e.inventory=i.data.inventory})}else if(e<this.index_list){this.spec.length=e;for(var c=e;c<o.length;c++){var d=!0,h=!1,f=void 0;try{for(var v,p=o[c].value[Symbol.iterator]();!(d=(v=p.next()).done);d=!0){var _=v.value;_.show=!1}}catch(A){h=!0,f=A}finally{try{d||null==p.return||p.return()}finally{if(h)throw f}}}for(var g=e+1;g<o.length;g++){var m=!0,y=!1,b=void 0;try{for(var w,x=o[g].value[Symbol.iterator]();!(m=(w=x.next()).done);m=!0){var S=w.value;S.disabled=!0}}catch(A){y=!0,b=A}finally{try{m||null==x.return||x.return()}finally{if(y)throw b}}}o[e].value[i].show=!0,o[e].value[i].disabled=!1,this.choose_list=JSON.parse(JSON.stringify(o)),this.spec.push({type:o[e].name,value:o[e].value[i].name}),this.index_list=this.spec.length}t("log",this.spec," at pages\\subhome\\details.vue:306"),this.service.entire(this,"post",this.APIconfig.api_root.subhome.s_SpecType,{id:this.id,spec:this.spec},function(e,i){if(t("log",i," at pages\\subhome\\details.vue:311"),0==i.code){var s=i.data,n=!0,r=!1,a=void 0;try{for(var l,u=s[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){var c=l.value,d=!0,h=!1,f=void 0;try{for(var v,p=o[e.index_list].value[Symbol.iterator]();!(d=(v=p.next()).done);d=!0){var _=v.value;c==_.name&&(_.disabled=!1)}}catch(A){h=!0,f=A}finally{try{d||null==p.return||p.return()}finally{if(h)throw f}}}}catch(A){r=!0,a=A}finally{try{n||null==u.return||u.return()}finally{if(r)throw a}}e.choose_list=o}})},save:function(){if(this.goods.specifications.choose.length==this.spec.length)if("cart"==this.type)this.service.entire(this,"post",this.APIconfig.api_root.subhome.s_Save,{goods_id:this.id,stock:this.num,spec:this.spec,user_id:this.$store.state.user.id},function(t,e){0==e.code&&(o.showToast({icon:"none",title:"成功加入购物车！"}),t.show=0)});else{var t={id:this.id,type:"goods",num:this.num,spec:this.spec};o.navigateTo({url:"../com_page/s_order?data="+JSON.stringify(t)})}else o.showToast({icon:"none",title:"请选择商品规格！"})},collect:function(){var e=this.service.loading();this.service.entire(this,"post",this.APIconfig.api_root.subhome.s_Favor,{user_id:this.$store.state.user.id,id:this.id},function(i,n){t("log",n," at pages\\subhome\\details.vue:369"),o.hideLoading(),clearTimeout(e),i.tips_test=n.msg,i.tips_img=s.default,i.shows=!0,setTimeout(function(){i.shows=!1},1500),0==n.code&&(1==i.collects?i.collects=0:i.collects=1)})}},onLoad:function(t){this.id=t.id,this.service.entire(this,"post",this.APIconfig.api_root.subhome.s_detail,{goods_id:t.id,user_id:this.$store.state.user.id},function(t,e){t.goods=e.data.goods,t.goods.stars_num=new Array(Number(e.data.goods.comments_score_star)),t.isLoad=!0,t.is_freight_free=e.data.goods.freight_free.is_freight_free,t.freight_price=e.data.goods.freight_free.freight_price,t.coupon=e.data.plugins_coupon_data,t.collects=e.data.goods.is_favor,t.comment_data=e.data.goods.comments;var i=!0,o=!1,s=void 0;try{for(var n,r=t.comment_data[Symbol.iterator]();!(i=(n=r.next()).done);i=!0){var a=n.value;a.rating_num=new Array(Number(a.rating))}}catch(N){o=!0,s=N}finally{try{i||null==r.return||r.return()}finally{if(o)throw s}}t.price=e.data.goods.price,t.inventory=e.data.goods.inventory;var l=e.data.goods.specifications.choose;if(""!=l){var u=!0,c=!1,d=void 0;try{for(var h,f=l[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var v=h.value,p=!0,_=!1,g=void 0;try{for(var m,y=v.value[Symbol.iterator]();!(p=(m=y.next()).done);p=!0){var b=m.value;b.show=!1,b.disabled=!0}}catch(N){_=!0,g=N}finally{try{p||null==y.return||y.return()}finally{if(_)throw g}}}}catch(N){c=!0,d=N}finally{try{u||null==f.return||f.return()}finally{if(c)throw d}}var w=!0,x=!1,S=void 0;try{for(var A,P=l[0].value[Symbol.iterator]();!(w=(A=P.next()).done);w=!0){var J=A.value;J.disabled=!1}}catch(N){x=!0,S=N}finally{try{w||null==P.return||P.return()}finally{if(x)throw S}}}t.choose_list=l,t.load_show=!1})},onShow:function(){}};e.default=a}).call(this,i("0de9")["default"],i("6e42")["default"])},"1c82":function(t,e,i){"use strict";var o,s=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){return t.service.returns()},t.e1=function(e){t.show=!0},t.e2=function(e){t.show=1,t.type="cart"},t.e3=function(e){t.show=1,t.type="goods"},t.e4=function(e){t.show=0},t.e5=function(e){t.show=0})},n=[];i.d(e,"b",function(){return s}),i.d(e,"c",function(){return n}),i.d(e,"a",function(){return o})},3558:function(t,e,i){"use strict";i.r(e);var o=i("1c82"),s=i("f854");for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);i("489c");var r,a=i("f0c5"),l=Object(a["a"])(s["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],r);e["default"]=l.exports},"489c":function(t,e,i){"use strict";var o=i("9cf1"),s=i.n(o);s.a},7402:function(t,e,i){"use strict";(function(t){i("0b23"),i("921b");o(i("66fd"));var e=o(i("3558"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])},"9cf1":function(t,e,i){},f854:function(t,e,i){"use strict";i.r(e);var o=i("0fc5"),s=i.n(o);for(var n in o)"default"!==n&&function(t){i.d(e,t,function(){return o[t]})}(n);e["default"]=s.a}},[["7402","common/runtime","common/vendor"]]]);