(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/subuser/threeuser/s_order_refund"],{"15fb":function(e,t,r){},"625e":function(e,t,r){"use strict";r.r(t);var s=r("96fc"),a=r.n(s);for(var n in s)"default"!==n&&function(e){r.d(t,e,function(){return s[e]})}(n);t["default"]=a.a},"691e":function(e,t,r){"use strict";(function(e){r("9e19"),r("921b");s(r("66fd"));var t=s(r("b790"));function s(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,r("6e42")["createPage"])},"703e":function(e,t,r){"use strict";var s,a=function(){var e=this,t=e.$createElement;e._self._c},n=[];r.d(t,"b",function(){return a}),r.d(t,"c",function(){return n}),r.d(t,"a",function(){return s})},"80ef":function(e,t,r){"use strict";var s=r("15fb"),a=r.n(s);a.a},"96fc":function(e,t,r){"use strict";(function(e,s){function a(e){return o(e)||i(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function o(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(){return r.e("pages/common/returns").then(r.bind(null,"c43c"))},d={components:{returns:u},data:function(){return{title:"退款/退货申请",show:0,add_show:1,type:1,data:"",goods_data:"",order_data:"",return_only:["请选择"],return_money:["请选择"],index:0,image_list:[],images:[],num:"",price:"",reason:"",msg:""}},methods:{bindPickerChange:function(e){this.index=e.target.value,this.reason=e.target.value},chiose:function(e){this.show=e,this.index=0},change_num:function(e){2!=this.type&&(1==e?1==this.num?this.num=1:this.num--:this.num==this.data.returned_data.returned_quantity?this.num=this.data.returned_data.returned_quantity:this.num++)},add_image:function(){var t=this;e.chooseImage({count:1,sourceType:["album"],success:function(r){var a=t.service.loading("上传中");e.uploadFile({url:t.APIconfig.api_root.subuser.threeuser.s_ueditor_index,filePath:r.tempFilePaths[0],name:"upfile",formData:{user_id:t.$store.state.user.id,action:"uploadimage",path_type:t.data.editor_path_type,token:t.$store.state.token},success:function(n){e.hideLoading(),clearTimeout(a),0==JSON.parse(n.data).code&&(s("log",JSON.parse(n.data)," at pages\\subuser\\threeuser\\s_order_refund.vue:188"),t.image_list.push(r.tempFilePaths[0]),t.images.push(JSON.parse(n.data).data.url),3==t.image_list.length&&(t.add_show=2))}})}})},deletes:function(e){this.image_list.splice(e,1),this.images.splice(e,1),this.image_list.length<3&&(this.add_show=1)},ascertain:function(){var t=new Object;if(1==this.show&&(t.number=this.num),t.price=this.price,t.images=this.images,t.type=this.show,t.user_id=this.$store.state.user.id,0==this.show&&(t.reason=this.return_only[this.reason]),1==this.show&&(t.reason=this.return_money[this.reason]),"请选择"==t.reason||""==this.price||this.msg.length<5||0==this.images.length)e.showToast({icon:"none",title:"请完整填写退款信息"});else{t.msg=this.msg;var r,s=Object.values(t);if(-1==s.indexOf(void 0))t.order_id=this.oid,t.order_detail_id=this.id,r=1==this.type?this.APIconfig.api_root.subuser.threeuser.s_aftersale_create:this.APIconfig.api_root.subuser.threeuser.g_Create,this.service.entire(this,"post",r,t,function(t,r){e.showToast({icon:"none",title:r.msg}),0==r.code&&setTimeout(function(){e.navigateBack({delta:2})},1500)});else e.showToast({icon:"none",title:"请完整填写退款信息"})}}},onLoad:function(e){s("log",e," at pages\\subuser\\threeuser\\s_order_refund.vue:250"),e.id?(this.oid=e.oid,this.id=e.id,this.service.entire(this,"post",this.APIconfig.api_root.subuser.threeuser.s_order_aftersale,{oid:e.oid,did:e.id,user_id:this.$store.state.user.id},function(e,t){var r,s;e.data=t.data,e.goods_data=t.data.order_data,e.num=t.data.returned_data.returned_quantity,e.order_data=t.data.order_data,e.price=t.data.returned_data.refund_price,(r=e.return_only).push.apply(r,a(t.data.return_only_money_reason)),(s=e.return_money).push.apply(s,a(t.data.return_money_goods_reason))})):(this.type=2,this.oid=e.oid,this.service.entire(this,"get",this.APIconfig.api_root.subuser.threeuser.g_Aftersale,{oid:e.oid,user_id:this.$store.state.user.id},function(e,t){var r,n;e.data=t.data,e.goods_data=t.data.goods[0],s("log",e.goods_data," at pages\\subuser\\threeuser\\s_order_refund.vue:276"),e.num=1,e.order_data=t.data.order.order,s("log",e.order_data," at pages\\subuser\\threeuser\\s_order_refund.vue:279"),e.price=t.data.order.order.price,(r=e.return_only).push.apply(r,a(t.data.return_only_money_reason)),(n=e.return_money).push.apply(n,a(t.data.return_money_goods_reason_list))}))}};t.default=d}).call(this,r("6e42")["default"],r("0de9")["default"])},b790:function(e,t,r){"use strict";r.r(t);var s=r("703e"),a=r("625e");for(var n in a)"default"!==n&&function(e){r.d(t,e,function(){return a[e]})}(n);r("80ef");var i,o=r("f0c5"),u=Object(o["a"])(a["default"],s["b"],s["c"],!1,null,"122de4f0",null,!1,s["a"],i);t["default"]=u.exports}},[["691e","common/runtime","common/vendor"]]]);