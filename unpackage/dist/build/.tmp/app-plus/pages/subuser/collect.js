(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/subuser/collect"],{5602:function(t,e,i){"use strict";i.r(e);var o=i("663d"),r=i("7a3e");for(var n in r)"default"!==n&&function(t){i.d(e,t,(function(){return r[t]}))}(n);i("cafc");var a,c=i("f0c5"),s=Object(c["a"])(r["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);e["default"]=s.exports},"59cd":function(t,e,i){"use strict";(function(t,o){function r(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=c(t))){var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r,n=!0,a=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return n=t.done,t},e:function(t){a=!0,r=t},f:function(){try{n||null==o.return||o.return()}finally{if(a)throw r}}}}function n(t){return u(t)||s(t)||c(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){if(t){if("string"===typeof t)return d(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?d(t,e):void 0}}function s(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function u(t){if(Array.isArray(t))return d(t)}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=function(){i.e("components/uni-load-more/uni-load-more").then(function(){return resolve(i("ee48"))}.bind(null,i)).catch(i.oe)},l={components:{uniLoadMore:f},data:function(){return{cur:"",dataList:[],type:"",show:!1,checked:!1,more:"more",page:1,loadRecord:!0}},methods:{choise:function(t){this.cur=t,this.dataList.length=0;var e={user_id:this.$store.state.user.id,page:1};1!=t&&2!=t||(e.type=t),this.Index(e)},Index:function(t){this.more="loading",3==this.cur?this.service.entire(this,"post",this.APIconfig.api_root.subuser.a_getFavorite,t,(function(t,e){e.data.forEach((function(t){return t.choice=!1}));var i=t.dataList;if(i.push.apply(i,n(e.data)),t.dataList=i,t.page+=1,t.more="more",e.data.length<10)return t.more="noMore",void(t.loadRecord=!1)})):4==this.cur?this.service.entire(this,"post",this.APIconfig.api_root.subuser.usergoodsfavor,t,(function(t,e){e.data.data.forEach((function(t){return t.choice=!1}));var i=t.dataList;if(i.push.apply(i,n(e.data.data)),t.dataList=i,t.page+=1,t.more="more",e.data.data.length<10)return t.more="noMore",void(t.loadRecord=!1)})):this.service.entire(this,"post",this.APIconfig.api_root.subuser.u_favor,t,(function(t,e){e.data.favor_list.forEach((function(t){return t.choice=!1}));var i=t.dataList;if(i.push.apply(i,n(e.data.favor_list)),t.dataList=i,t.page+=1,t.more="more",e.data.favor_list.length<10)return t.more="noMore",void(t.loadRecord=!1)}))},allElection:function(){if(this.checked=!this.checked,1==this.checked){var t,e=r(this.dataList);try{for(e.s();!(t=e.n()).done;){var i=t.value;i.choice=!0}}catch(c){e.e(c)}finally{e.f()}}else{var o,n=r(this.dataList);try{for(n.s();!(o=n.n()).done;){var a=o.value;a.choice=!1}}catch(c){n.e(c)}finally{n.f()}}},singleElection:function(t){if(this.dataList[t].choice=!this.dataList[t].choice,1==this.dataList[t].choice){var e=this.dataList.map((function(t){return t.choice}));-1==e.indexOf(!1)&&(this.checked=!0)}if(0==this.dataList[t].choice){var i,o=r(this.dataList);try{for(o.s();!(i=o.n()).done;){var n=i.value;0==n.choice&&(this.checked=!1)}}catch(a){o.e(a)}finally{o.f()}}},deletes:function(){var e,i,n=[];if(3==this.cur){var a,c=r(this.dataList);try{for(c.s();!(a=c.n()).done;){var s=a.value;1==s.choice&&n.push(s.id)}}catch(p){c.e(p)}finally{c.f()}e=this.APIconfig.api_root.subuser.favoriteDel,i={user_id:this.$store.state.user.id,aids:n}}else if(4==this.cur){var u,d=r(this.dataList);try{for(d.s();!(u=d.n()).done;){var f=u.value;1==f.choice&&n.push(f.goods_id)}}catch(p){d.e(p)}finally{d.f()}e=this.APIconfig.api_root.subuser.cancelall,i={user_id:this.$store.state.user.id,goods_ids:n}}else{var l,h=r(this.dataList);try{for(h.s();!(l=h.n()).done;){var v=l.value;1==v.choice&&n.push(v.video_id)}}catch(p){h.e(p)}finally{h.f()}e=this.APIconfig.api_root.com_page.v_collect,i={userid:this.$store.state.user.id,video_id:n.join(","),c_type:0,mobile:this.$store.state.user.mobile}}this.service.entire(this,"post",e,i,(function(e,i){if(t("log",i," at pages\\subuser\\collect.vue:218"),o.showToast({icon:"none",title:i.msg}),0==i.code){e.checked=!1;for(var r=e.dataList,n=r.length-1;n>=0;n--)1==r[n].choice&&r.splice(n,1)}}))}},onReachBottom:function(){0!=this.loadRecord&&this.loadMore()},onLoad:function(){this.choise(1)}};e.default=l}).call(this,i("0de9")["default"],i("6e42")["default"])},"663d":function(t,e,i){"use strict";var o={"uni-load-more":function(){return i.e("components/uni-load-more/uni-load-more").then(i.bind(null,"ee48"))}},r=function(){var t=this,e=t.$createElement,i=(t._self._c,t.$api_img()),o=t.__map(t.dataList,(function(e,i){var o=t.service.NumEllipsis(e.view);return{$orig:t.__get_orig(e),g0:o}})),r=t.$api_img(),n=t.__map(t.dataList,(function(e,i){var o=t.service.NumEllipsis(e.access_count);return{$orig:t.__get_orig(e),g1:o}})),a=t.$api_img();t._isMounted||(t.e0=function(e){return t.service.returns()},t.e1=function(e){t.show=!t.show}),t.$mp.data=Object.assign({},{$root:{m0:i,l0:o,m1:r,l1:n,m2:a}})},n=[];i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return o}))},"75e6":function(t,e,i){},"7a3e":function(t,e,i){"use strict";i.r(e);var o=i("59cd"),r=i.n(o);for(var n in o)"default"!==n&&function(t){i.d(e,t,(function(){return o[t]}))}(n);e["default"]=r.a},cafc:function(t,e,i){"use strict";var o=i("75e6"),r=i.n(o);r.a},effb:function(t,e,i){"use strict";(function(t){i("7932"),i("921b");o(i("66fd"));var e=o(i("5602"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])}},[["effb","common/runtime","common/vendor"]]]);