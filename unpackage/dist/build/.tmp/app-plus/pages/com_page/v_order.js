(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/com_page/v_order"],{"12fc":function(t,e,i){"use strict";var n,o=function(){var t=this,e=t.$createElement,i=(t._self._c,t.$api_img()),n=t.$api_img(),o=Number(t.data.v_price),r=t.__map(t.coupon_list,function(e,i){var n=t.service.Test(e.time_start),o=t.service.Test(e.time_end),r=Number(e.where_order_price);return{$orig:t.__get_orig(e),g0:n,g1:o,m3:r}});t._isMounted||(t.e0=function(e){t.show=!t.show},t.e1=function(e){t.show=!t.show}),t.$mp.data=Object.assign({},{$root:{m0:i,m1:n,m2:o,l0:r}})},r=[];i.d(e,"b",function(){return o}),i.d(e,"c",function(){return r}),i.d(e,"a",function(){return n})},2490:function(t,e,i){"use strict";i.r(e);var n=i("12fc"),o=i("5b49");for(var r in o)"default"!==r&&function(t){i.d(e,t,function(){return o[t]})}(r);i("4b83");var a,c=i("f0c5"),u=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"7f4137d8",null,!1,n["a"],a);e["default"]=u.exports},"4b83":function(t,e,i){"use strict";var n=i("7fb5"),o=i.n(n);o.a},"5b49":function(t,e,i){"use strict";i.r(e);var n=i("c7e1"),o=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e["default"]=o.a},"7fb5":function(t,e,i){},"90bb":function(t,e,i){"use strict";(function(t){i("7932"),i("921b");n(i("66fd"));var e=n(i("2490"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])},c7e1:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(){return i.e("pages/common/returns").then(i.bind(null,"20fe"))},o={data:function(){return{title:"确认订单",data:[],payment:"213",id:"",payment_id:"",require_data:"",coupon_list:"",show:!1,recording:"未选择",v_price:""}},components:{returns:n},methods:{choice:function(t){var e=!0,i=!1,n=void 0;try{for(var o,r=this.payment[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var a=o.value;a.choice=!1}}catch(c){i=!0,n=c}finally{try{e||null==r.return||r.return()}finally{if(i)throw n}}this.payment[t].choice=!0,this.payment_id=this.payment[t].id,this.payment_name=this.payment[t].payment},discount_choice:function(t){var e=!0,i=!1,n=void 0;try{for(var o,r=this.coupon_list[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var a=o.value;a.choice=!1}}catch(c){i=!0,n=c}finally{try{e||null==r.return||r.return()}finally{if(i)throw n}}this.coupon_list[t].choice=!0},finish:function(){var t=this;this.show=!1,this.coupon_list.forEach(function(e,i){1==e.choice&&(e.cid?(t.require_data.coupon_id=t.coupon_list[i].cid,t.recording="￥"+t.coupon_list[i].discount_value+"元",t.v_price=t.data.v_price-t.coupon_list[i].discount_value):(t.require_data.coupon_id=0,t.recording="不使用",t.v_price=t.data.v_price))})},Index:function(){this.service.entire(this,"post",this.APIconfig.api_root.com_page.v_orderDetail,this.require_data,function(t,e){if(t.data=e.data.video,t.v_price=e.data.video.v_price,""!=e.data.coupon){var i={not_coupon:"不使用"},n=e.data.coupon;n.push(i);var o=!0,r=!1,a=void 0;try{for(var c,u=n[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var s=c.value;s.choice=!1}}catch(m){r=!0,a=m}finally{try{o||null==u.return||u.return()}finally{if(r)throw a}}t.coupon_list=n}var d=e.data.pay_type,l=!0,f=!1,_=void 0;try{for(var p,v=d[Symbol.iterator]();!(l=(p=v.next()).done);l=!0){var h=p.value;h.choice=!1}}catch(m){f=!0,_=m}finally{try{l||null==v.return||v.return()}finally{if(f)throw _}}t.payment=d})},payments:function(){var e=this;this.payment_id?t.showModal({title:"提示",content:"是否确定支付？",success:function(i){if(i.confirm){var n={pay_type:e.payment_name},o=Object.assign(n,e.require_data);e.service.entire(e,"post",e.APIconfig.api_root.com_page.v_saveOrder,o,function(e,i){0==i.code?e.service.order.apply(e,[i,n.pay_type,"./video_details?id="+e.id+"&type="+e.type]):t.showToast({icon:"none",title:i.msg})})}else if(i.cancel)return}}):t.showToast({icon:"none",title:"请选择支付方式"})}},onLoad:function(t){this.type=t.type,this.id=t.id;var e={userid:this.$store.state.user.id,video_id:t.id,section_id:0,coupon_id:0,order_sn:t.order_sn};t.s_id&&(e.section_id=t.s_id),this.require_data=e},onShow:function(){this.Index()}};e.default=o}).call(this,i("6e42")["default"])}},[["90bb","common/runtime","common/vendor"]]]);