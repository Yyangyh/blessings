(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/subindex/morning"],{"01a1":function(t,e,n){},"0dea":function(t,e,n){"use strict";n.r(e);var i=n("bb2b"),o=n("9549");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("1287");var r,s=n("f0c5"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);e["default"]=c.exports},1287:function(t,e,n){"use strict";var i=n("01a1"),o=n.n(i);o.a},"22a2":function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;o(n("7156"));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return u(t)||c(t)||s(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){if(t){if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function c(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function u(t){if(Array.isArray(t))return d(t)}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var l=function(){Promise.all([n.e("common/vendor"),n.e("components/uni-calendar/uni-calendar")]).then(function(){return resolve(n("92d2"))}.bind(null,n)).catch(n.oe)},h=function(){n.e("components/uni-load-more/uni-load-more").then(function(){return resolve(n("ee48"))}.bind(null,n)).catch(n.oe)},f="",p="",m="",g="",b=plus.screen.resolutionWidth,_=25,v=55,w=5,x=12,y=_/360*b,q=(b-2*y-4*v)/3;q<=5&&(_=15,v=40,y=_/360*b,q=(b-2*y-4*v)/3);var k=y+v+q,S=y+2*(v+q),M=y+3*(v+q),$=y,I=$+v+w+x+y,A=new plus.nativeObj.View("nvMask",{top:"0px",left:"0px",height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0.2)"});A.addEventListener("click",(function(){A.hide(),j.hide()}));var j=new plus.nativeObj.View("nvImageMenu",{bottom:"0px",left:"0px",height:"184px",width:"100%",backgroundColor:"rgb(255,255,255)"});j.draw([{tag:"rect",color:"#e7e7e7",position:{top:"0px",height:"1px"}},{tag:"font",id:"sharecancel",text:"取消分享",textStyles:{size:"14px"},position:{bottom:"0px",height:"44px"}},{tag:"rect",color:"#e7e7e7",position:{bottom:"45px",height:"1px"}},{tag:"img",id:"imgwechatfriend",src:"/static/sharemenu/wechatfriend.png",position:{top:$,left:y,width:v,height:v}},{tag:"font",id:"fontwechatfriend",text:"微信好友",textStyles:{size:x},position:{top:$+v+w,left:y,width:v,height:x}},{tag:"img",id:"imgwechatmoments",src:"/static/sharemenu/wechatmoments.png",position:{top:$,left:k,width:v,height:v}},{tag:"font",id:"fontwechatmoments",text:"微信朋友圈",textStyles:{size:x},position:{top:$+v+w,left:k-2.5,width:v+5,height:x}},{tag:"img",id:"imgcopyurl",src:"/static/sharemenu/copyurl.png",position:{top:$,left:S,width:v,height:v}},{tag:"font",id:"fontcopyurl",text:"复制",textStyles:{size:x},position:{top:$+v+w,left:S,width:v,height:x}},{tag:"img",id:"imgmore",src:"/static/sharemenu/more.png",position:{top:$,left:M,width:v,height:v}},{tag:"font",id:"fontmore",text:"更多",textStyles:{size:x},position:{top:$+v+w,left:M,width:v,height:x}}]),j.addEventListener("click",(function(e){if(e.screenY>plus.screen.resolutionHeight-44)A.hide(),j.hide();else if(e.clientX<5||e.clientX>b-5||e.clientY<5);else{var n=-1,i=e.clientY<I-y/2?0:1,o=-1;if(o=e.clientX<k-q/2?0:e.clientX<S-q/2?1:e.clientX<M-q/2?2:3,n=0==i?o:o+4,n>=0&&n<=5){var a="",r="";switch(n){case 0:a="weixin",r="WXSceneSession";break;case 1:a="weixin",r="WXSenceTimeline";break;case 2:t.setClipboardData({data:f,complete:function(){t.showToast({title:"已复制到剪贴板"})}});break;case 3:plus.share.sendWithSystem({content:f});break}""!=a&&t.share({provider:a,scene:r,type:0,href:f,title:p,summary:m,imageUrl:g,success:function(t){},fail:function(t){}})}}}));var O={components:{uniCalendar:l,uniLoadMore:h},data:function(){return{title:"",data:[],share_arr:{},requ_rul:"",code:"",req_data:{page:1,user_id:""},more:"more",loadRecord:!0}},onReachBottom:function(){0!=this.loadRecord&&this.Index(this.req_data,this.requ_rul)},onLoad:function(t){this.req_data.user_id=this.$store.state.user.id,t&&(this.req_data.morning_id=t.id),t.code?(this.requ_rul=this.APIconfig.api_root.subindex.shareMorningnew,this.code=t.code):this.requ_rul=this.APIconfig.api_root.subindex.getMorningnew,this.Index(this.req_data,this.requ_rul)},onBackPress:function(){if(j.isVisible())return j.hide(),A.hide(),!0},onNavigationBarButtonTap:function(t){switch(t.type){case"share":A.show(),j.show();break}},methods:{Index:function(t,e){this.more="loading",this.service.entire(this,"post",e,t,(function(t,e){var n=t.data;if(n.push.apply(n,a(e.data)),t.req_data.page+=1,t.more="more",e.data.length<10)return t.more="noMore",void(t.loadRecord=!1)}))},share:function(t,e){f="https://www.wufu-app.com/h5/#/pages/subindex/morning?code="+this.$store.state.user.invite_code+"&id="+e,p=this.data[t].name,m=this.data[t].formatcontent,g=this.$api_img()+this.data[t].image,A.show(),j.show()},backtoday:function(t){i("log",t," at pages\\subindex\\morning.vue:430"),this.data.length=0,this.loadRecord=!0,this.req_data.page=1,delete this.req_data.start_time,t||this.Index(this.req_data,this.requ_rul)},open:function(t){this.type=t,this.$refs.calendar.open()},tips:function(t){},confirm:function(t){i("log",t," at pages\\subindex\\morning.vue:463"),this.data.length=0,this.loadRecord=!0,this.req_data.page=1,this.req_data.start_time=new Date(t.fulldate).getTime()/1e3,this.Index(this.req_data,this.requ_rul)},copy:function(e,n,i){var o=this;t.setClipboardData({data:e,success:function(e){o.oper(2,n),o.data[i].is_copycontent=1,t.showToast({icon:"none",title:"复制成功"})}})},oper:function(t,e){this.service.entire(this,"post",this.APIconfig.api_root.subindex.satusOfMorningnew,{morning_id:e,user_id:this.$store.state.user.id,type:t},(function(t,e){}))},preservation:function(e,n,i){var o=this;e=this.$api_img()+e;var a=Math.random()+".png";plus.downloader.createDownload(e,{filename:"_downloads/"+a},(function(e,a){200==a&&plus.gallery.save(e.filename,(function(){t.hideLoading(),o.oper(1,n),o.data[i].is_downimage=1,t.showToast({icon:"none",title:"保存成功！"})}))})).start()}}};e.default=O}).call(this,n("6e42")["default"],n("0de9")["default"])},"4cd8":function(t,e,n){"use strict";(function(t){n("7932"),n("921b");i(n("66fd"));var e=i(n("0dea"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},9549:function(t,e,n){"use strict";n.r(e);var i=n("22a2"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},bb2b:function(t,e,n){"use strict";var i={"uni-calendar":function(){return Promise.all([n.e("common/vendor"),n.e("components/uni-calendar/uni-calendar")]).then(n.bind(null,"92d2"))},"uni-load-more":function(){return n.e("components/uni-load-more/uni-load-more").then(n.bind(null,"ee48"))}},o=function(){var t=this,e=t.$createElement,n=(t._self._c,t.$api_img()),i=t.$api_img(),o=t.__map(t.data,(function(e,n){var i=t.service.Test(e.create_time);return{$orig:t.__get_orig(e),g0:i}}));t._isMounted||(t.e0=function(e){return t.service.returns()}),t.$mp.data=Object.assign({},{$root:{m0:n,m1:i,l0:o}})},a=[];n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))}},[["4cd8","common/runtime","common/vendor"]]]);