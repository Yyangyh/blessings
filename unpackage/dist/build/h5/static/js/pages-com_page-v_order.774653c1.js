(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-com_page-v_order"],{"19c1":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:["titles"],data:function(){return{}},methods:{returns:function(){history.back()}}};e.default=n},"1de5":function(t,e,i){"use strict";t.exports=function(t,e){return e||(e={}),t=t&&t.__esModule?t.default:t,"string"!==typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},"1f8d":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.top[data-v-d459b51e]{height:%?105?%;padding:0 %?44?%;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;position:fixed;top:0;z-index:99;left:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?32?%;font-weight:700;color:#333;background:#fff;-webkit-box-shadow:0 %?2?% %?4?% 0 rgba(0,0,0,.1);box-shadow:0 %?2?% %?4?% 0 rgba(0,0,0,.1)}.top .top_enlarge[data-v-d459b51e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:100%;width:%?180?%}.top uni-text[data-v-d459b51e]:nth-of-type(2){width:%?180?%;display:inline-block}.top uni-image[data-v-d459b51e]{height:%?40?%;width:%?40?%}',""]),t.exports=e},"20fe":function(t,e,i){"use strict";i.r(e);var n=i("bb9a"),a=i("db07");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("2a10");var s,r=i("f0c5"),c=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"d459b51e",null,!1,n["a"],s);e["default"]=c.exports},2490:function(t,e,i){"use strict";i.r(e);var n=i("52f8"),a=i("5b49");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("cd0f");var s,r=i("f0c5"),c=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"43732e8f",null,!1,n["a"],s);e["default"]=c.exports},"2a10":function(t,e,i){"use strict";var n=i("bb4e"),a=i.n(n);a.a},"349e":function(t,e,i){"use strict";var n=i("ee27");i("4160"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("54f8")),o=n(i("20fe")),s={data:function(){return{title:"确认订单",data:[],payment:"213",id:"",payment_id:"",require_data:"",coupon_list:"",show:!1,recording:"未选择",v_price:""}},components:{returns:o.default},methods:{choice:function(t){var e,i=(0,a.default)(this.payment);try{for(i.s();!(e=i.n()).done;){var n=e.value;n.choice=!1}}catch(o){i.e(o)}finally{i.f()}this.payment[t].choice=!0,this.payment_id=this.payment[t].id,this.payment_name=this.payment[t].payment},discount_choice:function(t){var e,i=(0,a.default)(this.coupon_list);try{for(i.s();!(e=i.n()).done;){var n=e.value;n.choice=!1}}catch(o){i.e(o)}finally{i.f()}this.coupon_list[t].choice=!0},finish:function(){var t=this;this.show=!1,this.coupon_list.forEach((function(e,i){1==e.choice&&(e.cid?(t.require_data.coupon_id=t.coupon_list[i].cid,t.recording="￥"+t.coupon_list[i].discount_value+"元",t.v_price=t.data.v_price-t.coupon_list[i].discount_value):(t.require_data.coupon_id=0,t.recording="不使用",t.v_price=t.data.v_price))}))},Index:function(){this.service.entire(this,"post",this.APIconfig.api_root.com_page.v_orderDetail,this.require_data,(function(t,e){if(t.data=e.data.video,t.v_price=e.data.video.v_price,""!=e.data.coupon){var i={not_coupon:"不使用"},n=e.data.coupon;n.push(i);var o,s=(0,a.default)(n);try{for(s.s();!(o=s.n()).done;){var r=o.value;r.choice=!1}}catch(f){s.e(f)}finally{s.f()}t.coupon_list=n}var c,l=e.data.pay_type,d=(0,a.default)(l);try{for(d.s();!(c=d.n()).done;){var u=c.value;u.choice=!1}}catch(f){d.e(f)}finally{d.f()}t.payment=l}))},payments:function(){var t=this;this.payment_id?uni.showModal({title:"提示",content:"是否确定支付？",success:function(e){if(e.confirm){var i={pay_type:t.payment_name},n=Object.assign(i,t.require_data);t.service.entire(t,"post",t.APIconfig.api_root.com_page.v_saveOrder,n,(function(t,e){0==e.code?t.service.order.apply(t,[e,i.pay_type,"./video_details?id="+t.id+"&type="+t.type]):uni.showToast({icon:"none",title:e.msg})}))}else if(e.cancel)return}}):uni.showToast({icon:"none",title:"请选择支付方式"})}},onLoad:function(t){this.type=t.type,this.id=t.id;var e={userid:this.$store.state.user.id,video_id:t.id,section_id:0,coupon_id:0,order_sn:t.order_sn};t.s_id&&(e.section_id=t.s_id),this.require_data=e},onShow:function(){this.Index()}};e.default=s},"528e":function(t,e,i){t.exports=i.p+"static/img/coupon_blue.6e439273.png"},"52f8":function(t,e,i){"use strict";var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"status_bar"}),i("returns",{attrs:{titles:t.title}}),i("v-uni-view",{staticClass:"void"}),i("v-uni-view",{staticClass:"vider_content"},[i("v-uni-view",{staticClass:"content_list"},[i("v-uni-view",{staticClass:"list_img_box"},[i("v-uni-image",{attrs:{src:t.$api_img()+t.data.v_pic,mode:"aspectFill"}})],1),i("v-uni-view",{staticClass:"list_right"},[i("v-uni-view",{staticClass:"list_one"},[t._v(t._s(t.data.long_title))]),i("v-uni-view",{staticClass:"list_two"},[t._v(t._s(t.service.NumEllipsis(t.data.view))+"次"+t._s(1==t.data.type?"观看":"收听"))]),i("v-uni-view",{staticClass:"list_three"},[t._v("￥"+t._s(t.data.v_price))])],1)],1)],1),i("v-uni-view",{staticClass:"void"}),i("v-uni-view",{staticClass:"recording"},[i("v-uni-view",{staticClass:"list"},[i("v-uni-text",[t._v("商品小计")]),i("v-uni-text",{staticClass:"list_red"},[t._v("￥"+t._s(t.data.v_price))])],1),i("v-uni-view",{staticClass:"list"},[i("v-uni-text",[t._v("优惠券")]),""!=t.coupon_list?i("v-uni-view",{staticClass:"discount",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.show=!t.show}}},[i("v-uni-text",[t._v(t._s(t.recording))]),i("v-uni-image",{attrs:{src:"/static/image/com_page/discount.png",mode:"widthFix"}})],1):i("v-uni-text",[t._v("无")])],1)],1),i("v-uni-view",{staticClass:"void"}),i("v-uni-view",{staticClass:"payment"},[i("v-uni-view",{staticClass:"pa_test"},[t._v("支付方式")]),i("v-uni-view",{staticClass:"pa_box"},t._l(t.payment,(function(e,n){return i("v-uni-view",{key:e.id,staticClass:"box_list",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.choice(n)}}},[i("v-uni-view",{staticClass:"list_top"},[i("v-uni-image",{attrs:{src:t.$api_img()+e.logo,mode:"widthFix"}}),i("v-uni-view",{},[t._v(t._s(e.name))])],1),i("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:e.choice,expression:"item.choice"}],staticClass:"choice",attrs:{src:"/static/image/com_page/chiose.png",mode:"widthFix"}})],1)})),1)],1),i("v-uni-view",{staticClass:"pay"},[i("v-uni-view",{staticClass:"paying"},[t._v("需支付："),i("v-uni-text",[t._v("￥"+t._s(t.v_price))])],1),i("v-uni-view",{staticClass:"btn"},[i("v-uni-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.payments()}}},[t._v("支付订单")])],1)],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"mask_black",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.show=!t.show}}}),i("v-uni-view",{staticClass:"discount_box",class:!1===t.show?"mask_none":!0===t.show?"mask_show":""},[i("v-uni-view",{staticClass:"box_top"},[t._v("优惠详情")]),i("v-uni-view",{staticClass:"box_list"},[i("v-uni-scroll-view",{staticClass:"scroll-Y",attrs:{"scroll-y":"true"}},t._l(t.coupon_list,(function(e,n){return i("v-uni-view",{key:n,staticClass:"cou_list"},[e.name?[i("v-uni-view",{staticClass:"cou_test",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.discount_choice(n)}}},[i("v-uni-view",{staticClass:"cou_left"},[i("v-uni-view",{staticClass:"left_one"},[t._v("￥"),i("v-uni-text",[t._v(t._s(e.discount_value))]),t._v("元")],1),i("v-uni-view",{staticClass:"left_two"},[i("v-uni-text",[t._v(t._s(e.name))])],1),i("v-uni-view",{staticClass:"left_two"},[i("v-uni-view",{},[t._v("有效期："+t._s(t.service.Test(e.time_start)))]),i("v-uni-view",{},[t._v("-"+t._s(t.service.Test(e.time_end)))])],1)],1),i("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:e.choice,expression:"item.choice"}],attrs:{src:"/static/image/com_page/chiose.png",mode:"widthFix"}})],1),Number(t.data.v_price)<Number(e.where_order_price)?i("v-uni-view",{staticClass:"cou_mask"}):t._e()]:[i("v-uni-view",{staticClass:"cou_test",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.discount_choice(n)}}},[i("v-uni-view",{},[t._v(t._s(e.not_coupon))]),i("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:e.choice,expression:"item.choice"}],attrs:{src:"/static/image/com_page/chiose.png",mode:"widthFix"}})],1)]],2)})),1)],1),i("v-uni-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.finish()}}},[t._v("完成")])],1)],1)},o=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},"54f8":function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return a}));i("a4d3"),i("e01a"),i("d28b"),i("e260"),i("d3b7"),i("3ca3"),i("ddb0");var n=i("dde1");function a(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=Object(n["a"])(t))){var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,s=!0,r=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return s=t.done,t},e:function(t){r=!0,o=t},f:function(){try{s||null==a["return"]||a["return"]()}finally{if(r)throw o}}}}},"5b49":function(t,e,i){"use strict";i.r(e);var n=i("349e"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},a176:function(t,e,i){var n=i("24fb"),a=i("1de5"),o=i("528e");e=n(!1);var s=a(o);e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.content[data-v-43732e8f]{width:100%;padding-bottom:%?150?%}.void[data-v-43732e8f]{width:100%;height:%?10?%;background:#f2f2f2}.vider_content[data-v-43732e8f]{padding:0 %?20?%;font-size:%?24?%}.vider_content uni-image[data-v-43732e8f]{width:%?268?%;height:%?179?%;margin-right:%?29?%}.vider_content .content_list[data-v-43732e8f]{display:-webkit-box;display:-webkit-flex;display:flex;margin-bottom:%?30?%;padding-top:%?20?%}.vider_content .content_list .list_right[data-v-43732e8f]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding-bottom:%?30?%}.vider_content .content_list .list_right .list_two[data-v-43732e8f]{color:#999;margin:5px 0}.vider_content .content_list .list_right .list_three[data-v-43732e8f]{color:#d80000;font-size:%?28?%}.recording[data-v-43732e8f]{width:100%;font-size:%?32?%;color:#333;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.recording .list[data-v-43732e8f]{font-size:%?24?%;color:#999;width:90%;height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-bottom:%?2?% solid #f2f2f2}.recording .list uni-view[data-v-43732e8f]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?28?%;color:#666}.recording .list uni-image[data-v-43732e8f]{height:%?45?%;width:%?45?%;margin-left:%?10?%}.recording .list .list_red[data-v-43732e8f]{color:#ff431d;font-size:%?28?%}.payment[data-v-43732e8f]{font-size:%?28?%;padding:%?20?%}.payment uni-image[data-v-43732e8f]{height:%?52?%;width:%?52?%}.payment .pa_test[data-v-43732e8f]{padding:%?18?% 0}.payment .pa_box .box_list[data-v-43732e8f]{display:-webkit-box;display:-webkit-flex;display:flex;position:relative}.payment .pa_box .box_list .list_top[data-v-43732e8f]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-weight:500;width:100%;height:%?100?%}.payment .pa_box .box_list .list_top uni-image[data-v-43732e8f]{margin-right:%?38?%}.payment .pa_box .box_list .list_top uni-view[data-v-43732e8f]{-webkit-box-flex:2;-webkit-flex-grow:2;flex-grow:2;height:%?100?%;line-height:%?100?%;border-bottom:%?2?% solid #f1f1f1}.choice[data-v-43732e8f]{position:absolute;right:%?20?%;top:%?30?%;height:%?36?%!important;width:%?36?%!important}.pay[data-v-43732e8f]{width:100%;height:%?120?%;border-top:%?1?% solid #f1f1f1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:fixed;bottom:0;background:#fff}.pay .paying[data-v-43732e8f]{margin-left:5%;color:#666;font-size:%?32?%}.pay .paying uni-text[data-v-43732e8f]{color:#ff431d}.pay .btn[data-v-43732e8f]{width:%?224?%;height:%?90?%;font-size:%?36?%;margin-right:5%}.pay .btn uni-button[data-v-43732e8f]{border-radius:%?45?%;background:#d80000;color:#fff}.discount_box[data-v-43732e8f]{position:fixed;bottom:0;left:0;width:100%;min-height:%?860?%;background:#fff;z-index:900;-webkit-transition:.3s;transition:.3s;-webkit-transform:translateY(100%);transform:translateY(100%)}.discount_box .box_top[data-v-43732e8f]{text-align:center;font-size:%?28?%;padding:%?20?% 0;color:#333}.discount_box .box_list[data-v-43732e8f]{height:%?660?%}.discount_box .box_list .cou_list[data-v-43732e8f]{background:url('+s+") no-repeat;background-size:100% 100%;width:%?710?%;height:%?182?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin:0 auto;margin-top:%?30?%;color:#1d9dff;position:relative}.discount_box .box_list .cou_list .cou_test[data-v-43732e8f]{\r\n  /* position: absolute; */width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:0 %?40?%}.discount_box .box_list .cou_list .cou_test .cou_left[data-v-43732e8f]{color:#1d9dff;font-size:%?24?%}.discount_box .box_list .cou_list .cou_test .cou_left uni-text[data-v-43732e8f]{font-size:%?48?%;margin-right:%?16?%}.discount_box .box_list .cou_list .cou_test .cou_left .left_two uni-text[data-v-43732e8f]{font-size:%?24?%}.discount_box .box_list .cou_list .cou_test .cou_right[data-v-43732e8f]{width:%?142?%;height:%?60?%;line-height:%?60?%;border-radius:%?60?%;text-align:center;font-size:%?30?%;color:#fff;background:#1d9dff}.discount_box .box_list .cou_list uni-image[data-v-43732e8f]{width:%?45?%;height:%?45?%}.discount_box .box_list .cou_mask[data-v-43732e8f]{position:absolute;z-index:999;height:%?182?%;width:100%;background:hsla(0,0%,100%,.6)}.discount_box uni-button[data-v-43732e8f]{position:absolute;bottom:0;left:0;width:100%;font-size:%?30?%;color:#fff;background:#1d74ff}.scroll-Y[data-v-43732e8f]{height:%?660?%}.mask_none[data-v-43732e8f]{-webkit-transform:translateY(100%)!important;transform:translateY(100%)!important}.mask_show[data-v-43732e8f]{-webkit-transform:translateY(0)!important;transform:translateY(0)!important}",""]),t.exports=e},b6802:function(t,e,i){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}i.d(e,"a",(function(){return n}))},bb4e:function(t,e,i){var n=i("1f8d");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("4fc3fefd",n,!0,{sourceMap:!1,shadowMode:!1})},bb9a:function(t,e,i){"use strict";var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"top"},[i("v-uni-view",{staticClass:"top_enlarge",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.returns()}}},[i("v-uni-image",{attrs:{src:"/static/image/com_page/returns.png",mode:"widthFix"}})],1),i("v-uni-text",[t._v(t._s(t.titles))]),i("v-uni-text")],1)},o=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},c635:function(t,e,i){var n=i("a176");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("45399a22",n,!0,{sourceMap:!1,shadowMode:!1})},cd0f:function(t,e,i){"use strict";var n=i("c635"),a=i.n(n);a.a},db07:function(t,e,i){"use strict";i.r(e);var n=i("19c1"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},dde1:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));i("a630"),i("fb6a"),i("d3b7"),i("25f0"),i("3ca3");var n=i("b6802");function a(t,e){if(t){if("string"===typeof t)return Object(n["a"])(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Object(n["a"])(t,e):void 0}}}}]);